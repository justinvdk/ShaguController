<Bindings>
  <!-- ShaguControl Custom Buttons -->
  <Binding name="SHAGUCONTROL0" runOnUp="true" header="SHAGUCONTROL">ShaguControlButton(0)</Binding>

  <!-- UP: Inventory -->
  <Binding name="SHAGUCONTROL1" runOnUp="true">
    if ( keystate == "down" ) then
      ToggleCharacter("PaperDollFrame")
      ToggleKeyRing()
      OpenAllBags()
    end
  </Binding>

  <!-- RIGHT: QuestLog -->
  <Binding name="SHAGUCONTROL2" runOnUp="true">
    if ( keystate == "down" ) then
      ToggleQuestLog()
    end
  </Binding>

  <!-- DOWN: Talents & Social -->
  <Binding name="SHAGUCONTROL3" runOnUp="true">
    if ( keystate == "down" ) then
      ToggleTalentFrame()
      ToggleFriendsFrame()
    end
  </Binding>

  <!-- LEFT: Spellbook -->
  <Binding name="SHAGUCONTROL4" runOnUp="true">
    if ( keystate == "down" ) then
      ToggleSpellBook(BOOKTYPE_SPELL)
    end
  </Binding>

  <Binding name="SHAGUCONTROL5" runOnUp="true">
    if ( keystate == "down" ) then
      local focus = GetMouseFocus();
      focus = MultiBarBottomLeft

      DEFAULT_CHAT_FRAME:AddMessage("--------------------");
      DEFAULT_CHAT_FRAME:AddMessage(focus:GetName());

      local kiddos = { focus:GetChildren() };
      for _, child in ipairs(kiddos) do
          DEFAULT_CHAT_FRAME:AddMessage(child:GetName());
      end
    end
  </Binding>

  <Binding name="PRINTFOCUSRECURSE" runOnUp="true" description="This is a test">
    if ( keystate == "down" ) then

      local current = GetMouseFocus();

      DEFAULT_CHAT_FRAME:AddMessage("--------------------");
      while (current ~= nil) do
        DEFAULT_CHAT_FRAME:AddMessage(current:GetName() .. " on strat: " .. current:GetFrameStrata());

        current = current:GetParent();
      end
    end
  </Binding>

  <Binding name="PRINTFOCUS" runOnUp="true" description="This is a test">
    if ( keystate == "down" ) then
      local current = GetMouseFocus();
      current = MultiBarBottomRight

      DEFAULT_CHAT_FRAME:AddMessage("--------------------");
      while (current ~= nil) do
        local numPoints = current:GetNumPoints()
        DEFAULT_CHAT_FRAME:AddMessage(current:GetName() .. " has " .. numPoints .. " points.");
        
        for i = 1, numPoints do
            local point, relativeTo, relativePoint, offsetX, offsetY = current:GetPoint(i)
            DEFAULT_CHAT_FRAME:AddMessage(string.format(
              "Point %d: %s, %s, %s, %d, %d",
              i,
              point,
              relativeTo and relativeTo:GetName() or "nil",
              relativePoint,
              offsetX,
              offsetY
            ))
        end

        current = current:GetParent();
        current = nil
      end
    end
  </Binding>

  <Binding name="SHAGUCONTROL7" description="Hold to toggle between actionbar 1 and 2" runOnUp="true">
    if ( keystate == "down" ) then
      CURRENT_ACTIONBAR_PAGE = 2
    end
    if ( keystate == "up" ) then
      CURRENT_ACTIONBAR_PAGE = 1
    end
    ChangeActionBarPage()
  </Binding>

  <Binding name="SHAGUCONTROL8" description="Hold to toggle between actionbar 1 and 2" runOnUp="true">
    if ( keystate == "down" ) then
      CURRENT_ACTIONBAR_PAGE = 4
    end
    if ( keystate == "up" ) then
      CURRENT_ACTIONBAR_PAGE = 1
    end
    ChangeActionBarPage()
  </Binding>

  <Binding name="SHAGUCONTROL9" description="Hold to enable mouselook." runOnUp="true">
    if ( keystate == "down" ) then
      MouselookStart()
    end
    if ( keystate == "up" ) then
      MouselookStop()
    end
  </Binding>

</Bindings>
